(function(e){function s(){var t=e("#"+n.progressBarId);if(t.length==0){e("body").append('<div id="'+n.progressBarId+'" class="'+n.progressBarId+'"><dt></dt><dd></dd></div>');t=e("#"+n.progressBarId)}return t}function o(){return i}function u(e,t,r){var o=s();if(!t){t=(e-i)*n.durationSeed}i=e;var u=101/100*e;u=Math.round(u*100)/100;var a=false;o.transit({width:u+"%",duration:t,complete:function(){if(a){if(u>99){o.delay(n.fadeDelay);o.fadeOut({duration:n.fadeDuration,complete:function(){o.remove()}});n.onComplete()}if(r){r()}}else{a=true}}})}var t="ytLoad";var n;var r;var i;var a={init:function(i){r=false;progress=0;n=e.extend({registerAjaxHandlers:true,startPercentage:30,startDuration:200,completeDuration:50,fadeDelay:200,fadeDuration:200,progressBarId:t,durationSeed:8,onStart:function(){},onComplete:function(){},onError:function(){}},i);if(n.registerAjaxHandlers){e(document).on("ajaxStart."+t,function(){a.start()});e(document).on("ajaxComplete."+t,function(){if(e.active<2){a.complete()}});e(document).on("ajaxError."+t,function(){a.error()})}},progress:function(e,t,n){if(!e){return o()}else{u(e,t,n)}},start:function(){var e=s();r=false;a.progress(n.startPercentage,n.startDuration);n.onStart()},complete:function(){var e=s();a.progress(100,n.completeDuration)},error:function(){var t=e("#"+n.progressBarId);t.addClass("error");n.onError()},destroy:function(){if(n.registerAjaxHandlers){e(document).off("ajaxStart."+t);e(document).off("ajaxComplete."+t);e(document).off("ajaxError."+t)}var r=e("#"+n.progressBarId);if(r.length!=0){r.remove()}}};e.ytLoad=function(n){if(a[n]){return a[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return a.init.apply(this,arguments)}else{e.error("Method "+method+" does not exist on jQuery."+t)}}})(jQuery)